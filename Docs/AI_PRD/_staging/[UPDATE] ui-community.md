---
source: _inbox/pages/12_community_feed.md, _inbox/pages/13_community_search.md
type: ui
domain: community
intent: update
---

# [UPDATE] Community UI Modernization

## 1. 개요

`_inbox/pages/`의 커뮤니티 시나리오를 바탕으로, 피드 탐색 및 검색 경험을 강화합니다. 특히 검색 화면의 **초기 진입 화면(최근 검색어, 인기 검색어)**을 구체화하고, 피드의 필터링 UX를 개선합니다.

## 2. 변경 사항 요약

- **[MODIFY] specs/ui/community/feed.md**: 필터 바 UX(Phase별 구분) 및 FAB 동작 구체화
- **[MODIFY] specs/ui/community/search.md**: 검색 진입 시 '최근/인기 검색어' 섹션 추가 및 검색 결과 UX 개선

## 3. 상세 스펙 제안

### A. [MODIFY] specs/ui/community/feed.md

```markdown
# 피드 화면 (Feed Screen)

## 개요
커뮤니티의 메인 진입점으로, 게시글과 포트폴리오를 통합 탐색하는 피드

## 레이아웃

```
┌─────────────────────────────────────┐
│  커뮤니티             [🔍]   [➕]   │
├─────────────────────────────────────┤
│  [전체▼]              [최신순▼]     │
├─────────────────────────────────────┤
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 📄 국내주식                      │ │
│ │ 삼성전자, 지금 사도 될까요?      │ │
│ │ 안녕하세요. 최근 주가가...       │ │
│ │ 🖼 2  ❤️ 42  💬 12              │ │
│ │ 투자왕김철수 · 2시간 전          │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 📊 포트폴리오                   │ │
│ │ 배당주 포트폴리오                │ │
│ │ 종목 8개 · 배당러버              │ │
│ │ ❤️ 156  📋 23                   │ │
│ └─────────────────────────────────┘ │
│                                     │
│          ⌛ Loading...             │
└─────────────────────────────────────┘
```

## 컴포넌트

### 헤더 (Top Bar)
- **타이틀**: "커뮤니티" (Left aligned)
- **검색(🔍)**: 검색 화면으로 이동
- **작성(➕)**: FAB 대신 헤더에 배치하거나, 우하단 FAB와 병행 고려 (기본: 우하단 FAB)

### 필터 바 (Filter Bar)
| 필터 | 옵션 | Phase |
|------|------|-------|
| **카테고리** | 전체, 포트폴리오, 토론, 질문, 국내주식, 해외주식, 자유 | P2 |
| **정렬** | 최신순(기본) | P2 |
| **정렬** | 인기순, 팔로잉(P3) | P3 |

### 컨텐츠 카드
1. **게시글**: 제목(1줄), 미리보기(2줄), 통계(이미지, 좋아요, 댓글), 작성자 정보
2. **포트폴리오**: '📊' 배지, 포트폴리오명, 종목 수, 수익률(선택), 통계(좋아요, 복사)

## 상호작용
- **스크롤**: 무한 스크롤 (Infinite Scroll)
- **Pull to Refresh**: 피드 새로고침
- **FAB (+)**: 게시글 작성 모달 호출 (본인인증 미완료 시 인증 유도)
```

---

### B. [MODIFY] specs/ui/community/search.md

```markdown
# 검색 화면 (Search Screen)

## 개요
커뮤니티 내 종목, 게시글, 사용자를 통합 검색하는 화면.
검색어 입력 전 탐색 편의성을 위해 **최근 검색어**와 **인기 검색어**를 제공합니다.

## 레이아웃

### 1. 초기 상태 (검색어 입력 전)
```
┌─────────────────────────────────────┐
│  ←  [🔍 검색어를 입력하세요...]      │
├─────────────────────────────────────┤
│                                     │
│  최근 검색                   [삭제] │
│  ┌─────────────────────────────────┐│
│  │ 삼성전자  ✕    배당주  ✕        ││
│  └─────────────────────────────────┘│
│                                     │
│  인기 검색어                        │
│  ┌─────────────────────────────────┐│
│  │ 1. 테슬라      2. 엔비디아      ││
│  │ 3. 2차전지     4. 리밸런싱      ││
│  └─────────────────────────────────┘│
│                                     │
└─────────────────────────────────────┘
```

### 2. 검색 결과 상태
```
┌─────────────────────────────────────┐
│  ←  [🔍 삼성                 ✕]     │
├─────────────────────────────────────┤
│  종목                     더 보기 > │
│  ┌─────────────────────────────────┐│
│  │ 삼성전자 (005930)       70,000  ││
│  │                        +2.5% 🔺 ││
│  └─────────────────────────────────┘│
│                                     │
│  게시글                   더 보기 > │
│  ┌─────────────────────────────────┐│
│  │ 삼성전자 실적 분석      ❤️ 42   ││
│  └─────────────────────────────────┘│
│                                     │
│  사용자                   더 보기 > │
│  ┌─────────────────────────────────┐│
│  │ 🧑 삼성러버        팔로워 123   ││
│  └─────────────────────────────────┘│
└─────────────────────────────────────┘
```

## 컴포넌트

### 검색어 히스토리 (Recent Searches)
- 로컬 스토리지 또는 서버 저장 (P2: 로컬 우선)
- 개별 삭제(✕) 및 전체 삭제 지원

### 인기 검색어 (Trending)
- 실시간 또는 일간 급상승 검색어 Top 10
- 클릭 시 해당 키워드로 즉시 검색

### 검색 결과 그룹
- **종목**: 현재가, 등락률 표시 (탭하면 '해당 종목이 포함된 포트폴리오 목록'으로 이동)
- **게시글/사용자**: 각 도메인 상세 화면으로 이동

## 상호작용
- **입력**: 500ms Debounce 적용
- **제약**: 2자 미만 검색 시 "2자 이상 입력해주세요" 토스트
```

## 4. AI 분석 (Chain of Thought)

1.  **검색 UX 강화**: 기존 `search.md`는 단순히 검색 기능만 정의했으나, `_inbox/pages/13_community_search.md`는 "검색 전 단계"의 중요성을 강조하고 있습니다. 최근 검색어와 인기 검색어는 탐색 비용을 줄여주는 필수 요소이므로 스펙에 공식 반영합니다.
2.  **종목 검색의 목적**: 커뮤니티 탭에서의 종목 검색은 "주가 확인"보다 "이 종목을 누가 샀는지(포트폴리오)"를 궁금해하는 맥락이 강합니다. 따라서 종목 클릭 시 차트가 아닌 **'이 종목이 포함된 포트폴리오'** 목록으로 이동하도록 동작을 명확히 했습니다.

## 5. 🔍 확인 필요 사항

### 1. 인기 검색어 데이터 소스 (P2)
인기 검색어 기능을 P2 단계부터 바로 도입할까요? 데이터 집계가 필요하므로 초기에는 제외하거나 '추천 키워드(하드코딩)'로 대체할 수 있습니다.

- [ ] **P2 적용 (Live)**: 검색 로그 집계 API 개발 필요
- [ ] **P2 적용 (Static)**: 운영진이 설정한 추천 키워드로 대체
- [ ] **P3로 연기**: 초기에는 최근 검색어만 제공

### 2. 필터 버튼 UI
`[전체▼]`와 같은 드롭다운 방식과 `[전체][포트폴리오][토론]...` 가로 스크롤 칩(Chip) 방식 중 선호하는 스타일은?

- [ ] **드롭다운 (Dropdown)**: 공간 절약 (현재 안)
- [ ] **가로 스크롤 칩 (Chips)**: 원터치 접근성 좋음, 모던한 UI
